; Dialplan for HT701 ATA test setup

[general]
static=yes
writeprotect=no

[internal]
; Dial 1 — hear "hello world"
exten => 1,1,Answer()
 same => n,Playback(hello-world)
 same => n,Hangup()

; Dial 2 — echo test (speak and hear yourself back)
exten => 2,1,Answer()
 same => n,Echo()

; Dial 3 — DTMF test (enter 4 digits, hear them read back)
exten => 3,1,Answer()
 same => n,Playback(beep)
 same => n,Read(DIGITS,,4)
 same => n,SayDigits(${DIGITS})
 same => n,Hangup()

; Dial 4 — music on hold
exten => 4,1,Answer()
 same => n,MusicOnHold(default)

; Dial 5 — congrats demo
exten => 5,1,Answer()
 same => n,Playback(demo-congrats)
 same => n,Hangup()

; Dial 6 — CISM 89.3 (Montreal college radio)
exten => 6,1,Answer()
 same => n,Set(VOLUME(TX)=6)
 same => n,MP3Player(http://stream03.ustream.ca:8000/cism128.mp3)
 same => n,Hangup()

; Dial 7 — KEXP (Seattle)
exten => 7,1,Answer()
 same => n,Set(VOLUME(TX)=6)
 same => n,MP3Player(http://live-mp3-128.kexp.org/kexp128.mp3)
 same => n,Hangup()

; Dial 8 — The Gamut
exten => 8,1,Answer()
 same => n,Set(VOLUME(TX)=3)
 same => n,MP3Player(https://playerservices.streamtheworld.com/api/livestream-redirect/WWFDAM.mp3)
 same => n,Hangup()

; Catch invalid extensions
exten => i,1,Playback(cannot-complete-as-dialed)
 same => n,Hangup()

; Incoming call context — triggered via CLI originate
[incoming]
exten => ring100,1,Answer()
 same => n,MusicOnHold(default)
